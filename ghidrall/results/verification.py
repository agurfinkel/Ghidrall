import subprocess

file_list = ["bad_diff_func",
             "bound_loop_with_var",
             "compound_condition",
             "compound_condition_param",
             "compound_condition_param_v2",
             "compound_condition_v2",
             # weird instruction domination issue "compound_condition_v3",
             # CAST missing"condcall_one",
             # CAST missing"condcall_two",
             "empty",
             "exclusive_ite",
             "exclusive_ite_goal_in_else",
             "goal_diff_func",
             # globals not implemented "global_var",
             # globals not implemented "global_var_updates",
             # globals not implemented "global_var_nongoal",
             "independent_ite",
             "independent_ite_param",
             "input_inside_bound_loop",
             "inter_func_narrow_to_wide_constraint",
             "inter_func_param",
             # CAST missing "inter_func_wide_to_narrow_constraint",
             # Pointer issue "inter_rv",
             "invalid_compound_condition",
             "invalid_compound_condition_param",
             "invalid_compound_condition_v2",
             "invalid_condition",
             "invalid_inter_func",
             "invalid_nested_conditions",
             "linear_flow",
             "loop_even_odd",
             # CAST missing "loop_even_odd_nongoal",
             "multi_call_inter_cond",
             "multi_call_inter_cond_else",
             "multi_call_inter_seq",
             "multiple_ite",
             "multivar_compound_condition",
             "nested_condition",
             "nested_condition_v2",
             "nested_condition_v3",
             "nested_ite_condition",
             "nested_ite_condition_param",
             "nested_ite_condition_param_v2",
             "nested_ite_condition_v2",
             "nested_loop",
             # CAST missing "oo_simple_goal",
             # CAST missing "oo_simple_nongoal",
             # CAST missing "oo_virtual_func_goal",
             # CAST missing "oo_virtual_func_nongoal",
             "param_n_var_conpound_condition",
             "rv_cond",
             "rv_same_var",
             "rv_seq",
             "rv_seq_v1",
             "rv_seq_v2",
             # Pointer issue "seq_call_five",
             # Odd argument 1U "seq_call_four",
             # Pointer issue "seq_call_one",
             # Pointer issue "seq_call_three",
             # Pointer issue "seq_call_two",
             "seq_v4",
             "single_condition",
             "single_condition_param",
             "single_condition_param_v2",
             "single_condition_v2",
             "unbound_loop_with_var",
             "var_values"]
             # CAST missing"var_values_param"]

commands_1 = [  "sea",
                "bpf",
                "--bmc=mono",
                "--dsa=sea cs",
                "--horn-bv2=true",
                "--log=opsem"]

commands_2 = [  "--oll=out.ll",
                "-inline",
                "-O0",
                "--log=cex",
                "--cex=/tmp/h.ll",
                "--bound = 7"]

for file in file_list:
    command = commands_1 + [(file + ".ll")] + commands_2
    result = subprocess.check_output(command)
    if "sat" in result:
        print(file + " evaluated to sat")
    else:
        print(file + " evaluated to unsat")